[gd_scene load_steps=30 format=3 uid="uid://vlxcu06cqdh3"]

[ext_resource type="Script" uid="uid://b2qg5wokg4dmu" path="res://scripts/main_menu/main_menu.gd" id="1_bqqt6"]
[ext_resource type="Texture2D" uid="uid://8wa3mgc5nvh4" path="res://sprites/ui/title.png" id="1_l6cm7"]
[ext_resource type="Texture2D" uid="uid://crwrcgbb0gh3a" path="res://sprites/backgrounds/4/background.png" id="2_8ln24"]
[ext_resource type="PackedScene" uid="uid://dxhd6bsy24xeh" path="res://scenes/bg_music.tscn" id="2_bqqt6"]
[ext_resource type="AudioStream" uid="uid://diq45ty3ctarm" path="res://sounds/ui-hover.mp3" id="4_rcqid"]
[ext_resource type="Theme" uid="uid://ctdokwla7g3xu" path="res://themes/ui.tres" id="4_wu84c"]
[ext_resource type="Texture2D" uid="uid://bgjmkpjdmyrom" path="res://sprites/ui/Icon_Small_Blank_Arrow.svg" id="6_rtw2f"]
[ext_resource type="Script" uid="uid://da6migmjw87rb" path="res://scripts/state_machine.gd" id="7_tbmy8"]
[ext_resource type="Script" uid="uid://ml7mxbb5qgtx" path="res://scripts/main_menu/button_state_base.gd" id="8_1ajci"]
[ext_resource type="Script" uid="uid://box126ku45ktw" path="res://scripts/main_menu/animating_in_state.gd" id="8_5dd4i"]
[ext_resource type="Script" uid="uid://de7i6cc6m4wjy" path="res://scripts/main_menu/start_selected_state.gd" id="9_lgwnu"]
[ext_resource type="Script" uid="uid://b5qx54hcuu6el" path="res://scripts/main_menu/options_selected_state.gd" id="10_flqon"]
[ext_resource type="Script" uid="uid://cwgk2mxue6s17" path="res://scripts/main_menu/credits_selected_state.gd" id="11_flqon"]
[ext_resource type="Script" uid="uid://d1v514kj2uvfv" path="res://scripts/main_menu/quit_selected_state.gd" id="12_rcqid"]

[sub_resource type="Animation" id="Animation_8ln24"]
length = 0.001

[sub_resource type="Animation" id="Animation_rtw2f"]
resource_name = "TitleEnter"
step = 0.0666667
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("TitleControl:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-550, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("TitleControl:scale:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0, 1.06519, -0.0680012, 0.103168, 0.0902056, -0.160559, 0.967, -0.0850541, 0.295287, 0.241387, -199),
"times": PackedFloat32Array(0, 0.334455, 0.5)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("TitleControl:scale:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 2),
"points": PackedFloat32Array(1, -0.25, 0, 0, 0.0701519, 1, 0, 0.0829521, 0, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("TitleControl:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-0.549779, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_rtw2f"]
_data = {
&"RESET": SubResource("Animation_8ln24"),
&"TitleEnter": SubResource("Animation_rtw2f")
}

[sub_resource type="Animation" id="Animation_rcqid"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StartButtonControl/StartButton:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_oa1go"]
resource_name = "StartButton"
step = 0.0666667
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StartButtonControl:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(600, -0.25, 0, 0.233333, 5.03363, -31.2997, -0.0599409, -77.1695, 0.0663736, 70.7387, 0, -0.0947685, 108.034, 0.25, 0),
"times": PackedFloat32Array(0, 0.305578, 0.5)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StartButtonControl/StartButton:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5011861),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jk1qb"]
_data = {
&"RESET": SubResource("Animation_rcqid"),
&"StartButtonEnter": SubResource("Animation_oa1go")
}

[sub_resource type="Animation" id="Animation_jk1qb"]
resource_name = "StartButton"
step = 0.0666667
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(600, -0.25, 0, 0.233333, 5.03363, -31.2997, -0.0599409, -77.1695, 0.0663736, 70.7387, 0, -0.0947685, 108.034, 0.25, 0),
"times": PackedFloat32Array(0, 0.305578, 0.5)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("OptionsButton:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5011861),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="Animation" id="Animation_1ajci"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("OptionsButton:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_5dd4i"]
_data = {
&"OptionsButtonEnter": SubResource("Animation_jk1qb"),
&"RESET": SubResource("Animation_1ajci")
}

[sub_resource type="Animation" id="Animation_tbmy8"]
resource_name = "CreditsButtonEnter"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(600, -0.25, 0, 0.233333, 5.03363, -31.2997, -0.0599409, -77.1695, 0.0663736, 70.7387, 0, -0.0947685, 108.034, 0.25, 0),
"times": PackedFloat32Array(0, 0.305578, 0.5)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CreditsButton:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="Animation" id="Animation_lgwnu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CreditsButton:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lgwnu"]
_data = {
&"CreditsButtonEnter": SubResource("Animation_tbmy8"),
&"RESET": SubResource("Animation_lgwnu")
}

[sub_resource type="Animation" id="Animation_flqon"]
resource_name = "ExitButtonEnter"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(600, -0.25, 0, 0.233333, 5.03363, -31.2997, -0.0599409, -77.1695, 0.0663736, 70.7387, 0, -0.0947685, 108.034, 0.25, 0),
"times": PackedFloat32Array(0, 0.305578, 0.5)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("QuitButton:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../MenuArrow/MenuArrowStateMachine/AnimatingInState")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.5),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"on_finish_animation"
}]
}

[sub_resource type="Animation" id="Animation_5dd4i"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("QuitButton:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_rcqid"]
_data = {
&"ExitButtonEnter": SubResource("Animation_flqon"),
&"RESET": SubResource("Animation_5dd4i")
}

[node name="MainMenu" type="Node2D"]
script = ExtResource("1_bqqt6")

[node name="Background" type="Sprite2D" parent="."]
texture = ExtResource("2_8ln24")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="BgMusic" parent="." instance=ExtResource("2_bqqt6")]
volume_db = -10.0
autoplay = false

[node name="UiHoverButton" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("4_rcqid")
volume_db = 8.0

[node name="TitleControl" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_top = -550.0
offset_bottom = -550.0
rotation = -0.549779

[node name="TitleControlAnimation" type="AnimationPlayer" parent="TitleControl"]
active = false
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_rtw2f")
}
autoplay = "TitleEnter"

[node name="Title" type="TextureRect" parent="TitleControl"]
modulate = Color(1, 0.0313725, 1, 1)
custom_minimum_size = Vector2(0, 500)
layout_mode = 0
offset_left = -438.46948
offset_top = -552.0
offset_right = 449.53052
offset_bottom = -52.0
texture = ExtResource("1_l6cm7")
expand_mode = 3

[node name="StartButtonControl" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 600.0
offset_bottom = 600.0
grow_horizontal = 2
grow_vertical = 2

[node name="StartButtonAnimation" type="AnimationPlayer" parent="StartButtonControl"]
active = false
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_jk1qb")
}
autoplay = "StartButtonEnter"

[node name="StartButton" type="Button" parent="StartButtonControl"]
custom_minimum_size = Vector2(350, 0)
layout_mode = 1
anchors_preset = -1
offset_left = -176.0
offset_top = -32.0
offset_right = 174.0
offset_bottom = 63.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("4_wu84c")
disabled = true
toggle_mode = true
text = "Start"

[node name="OptionsButtonControl" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_top = 600.0
offset_right = 40.0
offset_bottom = 640.0

[node name="OptionsButtonAnimation" type="AnimationPlayer" parent="OptionsButtonControl"]
active = false
libraries = {
&"": SubResource("AnimationLibrary_5dd4i")
}
autoplay = "OptionsButtonEnter"

[node name="OptionsButton" type="Button" parent="OptionsButtonControl"]
custom_minimum_size = Vector2(350, 0)
layout_mode = 1
offset_left = -176.0
offset_top = 72.0
offset_right = 174.0
offset_bottom = 167.0
theme = ExtResource("4_wu84c")
disabled = true
toggle_mode = true
text = "Options"

[node name="CreditsButtonControl" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_top = 600.0
offset_right = 40.0
offset_bottom = 640.0

[node name="CreditsButtonAnimation" type="AnimationPlayer" parent="CreditsButtonControl"]
active = false
libraries = {
&"": SubResource("AnimationLibrary_lgwnu")
}
autoplay = "CreditsButtonEnter"

[node name="CreditsButton" type="Button" parent="CreditsButtonControl"]
custom_minimum_size = Vector2(350, 0)
layout_mode = 0
offset_left = -175.0
offset_top = 176.0
offset_right = 175.0
offset_bottom = 271.0
theme = ExtResource("4_wu84c")
disabled = true
toggle_mode = true
text = "Credits"

[node name="QuitButtonControl" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_top = 600.0
offset_right = 40.0
offset_bottom = 640.0

[node name="QuitButtonAnimation" type="AnimationPlayer" parent="QuitButtonControl"]
active = false
libraries = {
&"": SubResource("AnimationLibrary_rcqid")
}
autoplay = "ExitButtonEnter"

[node name="QuitButton" type="Button" parent="QuitButtonControl"]
custom_minimum_size = Vector2(350, 0)
layout_mode = 0
offset_left = -176.0
offset_top = 280.0
offset_right = 174.0
offset_bottom = 375.0
theme = ExtResource("4_wu84c")
toggle_mode = true
text = "Exit"

[node name="MenuArrow" type="TextureRect" parent="."]
offset_left = -248.0
offset_top = 592.0
offset_right = -82.0
offset_bottom = 745.0
scale = Vector2(0.3357443, 0.3357443)
texture = ExtResource("6_rtw2f")
script = ExtResource("8_1ajci")

[node name="MenuArrowStateMachine" type="Node" parent="MenuArrow" node_paths=PackedStringArray("default_state")]
script = ExtResource("7_tbmy8")
default_state = NodePath("AnimatingInState")

[node name="AnimatingInState" type="Node" parent="MenuArrow/MenuArrowStateMachine"]
script = ExtResource("8_5dd4i")

[node name="StartSelectedState" type="Node" parent="MenuArrow/MenuArrowStateMachine"]
script = ExtResource("9_lgwnu")

[node name="OptionsSelectedState" type="Node" parent="MenuArrow/MenuArrowStateMachine"]
script = ExtResource("10_flqon")

[node name="CreditsSelectedState" type="Node" parent="MenuArrow/MenuArrowStateMachine"]
script = ExtResource("11_flqon")

[node name="QuitSelectedState" type="Node" parent="MenuArrow/MenuArrowStateMachine"]
script = ExtResource("12_rcqid")

[connection signal="mouse_entered" from="StartButtonControl/StartButton" to="MenuArrow/MenuArrowStateMachine/StartSelectedState" method="_on_start_button_mouse_entered"]
[connection signal="mouse_entered" from="OptionsButtonControl/OptionsButton" to="MenuArrow/MenuArrowStateMachine/OptionsSelectedState" method="_on_options_button_mouse_entered"]
[connection signal="mouse_entered" from="CreditsButtonControl/CreditsButton" to="MenuArrow/MenuArrowStateMachine/CreditsSelectedState" method="_on_credits_button_mouse_entered"]
[connection signal="mouse_entered" from="QuitButtonControl/QuitButton" to="MenuArrow/MenuArrowStateMachine/QuitSelectedState" method="_on_quit_button_mouse_entered"]
